@using VigilanceClearance.Models.ViewModel.Coord2_DealingHand
@model List<OfficerAndPostingViewModel>
@{
    ViewData["Title"] = "ViewOfficerListForGivenProposal";
    Layout = "~/Views/Shared/_CBILayout.cshtml";
}

<style>
    body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .table-responsive {
        overflow-x: unset; /* disable horizontal scroll */
        overflow-y: auto;
        max-height: none;
        width: 100%;
    }

    .table {
        width: 100%;
        table-layout: auto; /* allow table to grow */
    }

        .table th, .table td {
            white-space: normal !important; /* allow wrapping */
            word-wrap: break-word;
            vertical-align: top;
        }

        .table thead th {
            background-color: #f8f9fa;
            z-index: 1;
        }

    .card {
        width: 100%;
        margin: 0 auto;
    }

    .card-body {
        padding: 1rem;
    }

    .table {
        width: 100% !important;
        table-layout: auto; /* allow natural width */
    }

        .table th, .table td {
            white-space: normal !important;
            word-break: break-word;
            vertical-align: top;
        }

    .card-body {
        overflow-x: hidden; /* prevent horizontal scroll */
        padding: 1rem;
    }

    body {
        overflow-x: hidden;
    }

    .btn-sm {
        padding: 0.35rem 0.75rem;
        border-radius: 0.25rem;
    }

</style>


<section>
    <div class="card">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <h3 class="card-title mb-0">Simplified Officer List</h3>
            <a asp-controller="Coord2_BranchOfficer" asp-action="ViewOfficerListForGivenProposalDHDraft" class="btn btn-warning btn-sm fw-semibold">
                SEND PROPOSAL
            </a>
        </div>



        <div class="card-body p-2">
            <div>
                @* <table class="table table-bordered table-hover table-sm"> *@
                <table class="table table-bordered table-hover table-sm w-100" style="table-layout: auto;">
                    <thead class="thead-light" style="font-size-adjust">
                        <tr>
                            <th style="padding-bottom: 25px;">S.No.</th>
                            <th style="display:none">Officer Id</th>
                            <th>Name of the <br />Officer</th>
                            <th>Father's <br />Name</th>
                            <th>Date of<br /> Birth</th>
                            <th>Date of <br />Retirement</th>
                            <th>Date of Entry<br /> into Service</th>
                            <th>Service Details<br /> (Batch/Year/Cadre)</th>
                            <th>Officer  <br />Cadre</th>
                            <th style="padding-bottom: 25px;">Posting  Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            int sno = 1;
                        }

                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@sno</td>
                                <td style="display:none">@item.Id</td>
                                <td>@item.Officer_Name</td>
                                <td>@item.Officer_FatherName</td>
                                <td>@item.Officer_DateOfBirth?.ToString("dd-MM-yyyy")</td>
                                <td>@item.Officer_RetirementDate?.ToString("dd-MM-yyyy")</td>
                                <td>@item.Officer_ServiceEntryDate?.ToString("dd-MM-yyyy")</td>
                                <td>@item.Officer_Batch_Year</td>
                                <td>@item.Officer_Cadre</td>
                                <td>

                                    <div>
                                        @{
                                            int SrNo = 1;
                                        }
                                        <table class="table table-bordered table-hover table-sm">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th>Sr. No.</th>
                                                    <th>Ministry</th>
                                                    <th>Designation</th>
                                                    <th>Place Of Posting</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var postingDetails in item.postingDetailsOfOfficers)
                                                {
                                                    <tr>
                                                        <td>@SrNo</td>
                                                        <td>@postingDetails.orgMinistry</td>
                                                        <td>@postingDetails.designation</td>
                                                        <td>@postingDetails.placeOfPosting</td>
                                                    </tr>
                                                    SrNo++;
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </td>

                            </tr>
                            sno++;
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
